<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
 -->

<lightbox show="lightboxes.copy" on-close="lightboxes.copy = false">
    <form ng-submit="copy()">
        <div class="row">
            <h2><i18n>rack.copy</i18n></h2>
            <nav class="vertical" ng-if="folder">
                <nav class="vertical">
                    <ul>
                        <li data-ng-include="'folder-management'"></li>
                    </ul>
                </nav>
            </nav>
            <a ng-if="targetFolder && !newFolderEditing" ng-click="$parent.newFolderEditing = true">
                <i18n>rack.createFolder</i18n>
            </a>
            <div class="row input-block" ng-if="newFolderEditing">
                <input type="text" ng-model="newFolder.name" class="cell" />
                <button ng-click="$parent.newFolderEditing = false; createEditFolder()" class="cell">
                    <i18n>rack.folder.create</i18n>
                </button>
            </div>

            <div class="lightbox-buttons fluid">
                <button ng-disabled="!targetFolder" class="right-magnet">
                    <i18n>rack.copy</i18n>
                </button>
                <button type="button" class="cancel right-magnet" ng-click="lightboxes.copy = false">
                    <i18n>cancel</i18n>
                </button>
            </div>
        </div>
    </form>
</lightbox>